<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{manage}">
<head>
		<script>
           function addItemToRight(){
               var roleSelect = document.getElementById("role");

               // Role co chon
               if (roleSelect.selectedIndex >= 0) {
                  var assignedRoleSelect = document.getElementById("assignedRole");
                  var selectedOption = roleSelect.options[roleSelect.selectedIndex];
                  
                  // Them selected option vao select ben phai
                  assignedRoleSelect.add(selectedOption);
               }
           }
           
           function addItemToLeft(){
               var roleSelect = document.getElementById("assignedRole");

               // Role co chon
               if (roleSelect.selectedIndex >= 0) {
                  var assignedRoleSelect = document.getElementById("role");
                  var selectedOption = roleSelect.options[roleSelect.selectedIndex];
                  
                  // Them selected option vao select ben phai
                  assignedRoleSelect.add(selectedOption);
               }
           }
        </script>

<title>Chỉnh Sửa Nhân Viên</title>
</head>
<body>
	<div layout:fragment="content">
		<div class="container">
			<div class="row">
			
			<div class="col-md-3">
			</div>
			
				<div class="col-md-6">
				<h2 style="text-align: center; font-size: 40px; font-weight: bold; margin-top: 40px;" class="mb-3">Chỉnh Sửa Nhân Viên</h2>
					<form enctype="multipart/form-data" th:action="@{/admin/updateuser?(userId=${user.id})}" th:object="${user}" method="post">
						<div class="form-group col-md-6" style="font-weight: bold; font-size: 20px;"> 
                            Ảnh Đại Diện: 
                            <a th:href="@{/upload/{path}(path=${user.profileImageName})}">
                                <img th:attr="src=@{/upload/{path}(path=${user.profileImageName})}"  width="100px" height="100px"/>
                            </a>
                            <input th:field="*{profileImageFile}" type="file"/>
                        </div>
					
						<div class="mb-3">
							<label for="firstName" class="col-form-label">Họ Và Tên</label>
							<input type="text" th:field="*{firstName}" class="form-control"
								id="firstName" placeholder="Họ Và Tên" /> 
							<span th:errors="*{firstName}" class="text-danger"></span>
						</div>

						<div class="mb-3">
							<label for="lastName" class="col-form-label">Họ Và Tên</label> <input
								type="text" th:field="*{lastName}" class="form-control"
								id="lastName" placeholder="Họ Và Tên"> 
							<span th:errors="*{lastName}" class="text-danger"></span>
						</div>
						
						<div class="mb-3">
							<label for="phoneNumber" class="col-form-label">Số Điện Thoại</label> <input
								type="text" th:field="*{phoneNumber}" class="form-control" id="phoneNumber"
								placeholder="Số Điện Thoại"> 
							<span th:errors="*{phoneNumber}" class="text-danger"></span>
						</div>

						<div class="mb-3">
							<label for="email" class="col-form-label">Email</label> <input
								type="text" th:field="*{email}" class="form-control" id="email"
								placeholder="Email"> 
							<span th:errors="*{email}"	class="text-danger"></span>
						</div>
						
						<div class="row">
			                <div class="container">
			                    <div class="row">
			                        <div class="col">
			                            <label for="validationCustom02" class="form-label">Chọn quyền:</label>
				                            <select th:field="*{permissions}" id="role" multiple class="form-select" >
				                                <option th:each = "permission : ${allPermissions}" th:value="${{permission}}" th:text="${permission.role}"></option>
				                            </select>
			                        </div>
			                    </div>
			                </div>
            			</div>
						
						<div class="mb-3">
							<label for="userName" class="col-form-label">Tên Đăng Nhập</label> <input
								type="text" th:field="*{userName}" class="form-control" id="userName"
								placeholder="Tên Đăng Nhập"> 
							<span th:errors="*{userName}"	class="text-danger"></span>
						</div>
						
						<div class="mb-3">
							<label for="password" class="col-form-label">Mật Khẩu</label> <input
								type="password" th:field="*{password}" class="form-control" id="password"
								placeholder="Mật Khẩu"> 
							<span th:errors="*{password}"	class="text-danger"></span>
						</div>

						<input 
						style="width: 26%; border-radius: 15px; margin-left: 220px; background-color: green; color: white; font-weight: bold; font-size: 25px"
						type="submit" value="Lưu Lại" class="mt-3" />
					</form>
				</div>
			</div>
		</div>
	</div>
</body>
</html>